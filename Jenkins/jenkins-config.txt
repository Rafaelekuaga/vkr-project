pipeline { 
  agent any 
 
  tools { 
    // Herramientas necesarias 
    jdk 'jdk17' 
    nodejs 'nodejs18' 
  } 
 
  stages { 
    stage('Checkout') { 
      steps { 
        checkout scm 
      } 
    } 
 
    stage('Build and Test') { 
      steps { 
        sh 'docker-compose build' 
        sh 'docker-compose run backend pytest' 
      } 
    } 
 
    stage('Deploy') { 
      steps { 
        sh 'docker-compose up -d' 
      } 
    } 
  } 
 
  post { 
    success { 
      echo 'Pipeline completado exitosamente' 
    } 
    failure { 
      echo 'Pipeline fallo' 
    } 
  } 
} 
